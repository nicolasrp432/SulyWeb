const e={_origin:"https://api.emailjs.com"},t=(t,s="https://api.emailjs.com")=>{e._userID=t,e._origin=s},s=(e,t,s)=>{if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class r{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const i=(t,s,i={})=>new Promise((o,a)=>{const n=new XMLHttpRequest;n.addEventListener("load",({target:e})=>{const t=new r(e);200===t.status||"OK"===t.text?o(t):a(t)}),n.addEventListener("error",({target:e})=>{a(new r(e))}),n.open("POST",e._origin+t,!0),Object.keys(i).forEach(e=>{n.setRequestHeader(e,i[e])}),n.send(s)}),o=(t,r,o,a)=>{const n=a||e._userID;s(n,t,r);const d={lib_version:"3.12.1",user_id:n,service_id:t,template_id:r,template_params:o};return i("/api/v1.0/email/send",JSON.stringify(d),{"Content-type":"application/json"})},a=(t,r,o,a)=>{const n=a||e._userID,d=(e=>{let t;if(t="string"==typeof e?document.querySelector(e):e,!t||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t})(o);s(n,t,r);const p=new FormData(d);return p.append("lib_version","3.12.1"),p.append("service_id",t),p.append("template_id",r),p.append("user_id",n),i("/api/v1.0/email/send-form",p)},n={init:t,send:o,sendForm:a};export{n as default,t as init,o as send,a as sendForm};
