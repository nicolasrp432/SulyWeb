var e=Object.defineProperty,r=Object.defineProperties,n=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(r,n,o)=>n in r?e(r,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[n]=o,i=(e,r,n)=>new Promise((o,t)=>{var a=e=>{try{i(n.next(e))}catch(r){t(r)}},s=e=>{try{i(n.throw(e))}catch(r){t(r)}},i=e=>e.done?o(e.value):Promise.resolve(e.value).then(a,s);i((n=n.apply(e,r)).next())});import{o as l,s as c,a as u,b as d,c as m,d as f,u as v}from"./chunk-723739b4.js";import{V as p}from"./index-07bd9f2c.js";const E="nicolasrp432@gmail.com";const g=(e,r,n)=>i(void 0,null,function*(){try{const t=r.map(e=>`${e.name} - ${e.price}`).join(", ");return{success:!0,data:{adminEmail:E,clientName:e.name,clientEmail:e.email,clientPhone:e.phone,bookingDate:(o=e.date,new Date(o).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),bookingTime:e.time,bookingLocation:(null==n?void 0:n.name)||"",bookingServices:t,clientNotes:e.notes||"Sin notas adicionales",submissionDate:(new Date).toLocaleString("es-ES")}}}catch(t){return{success:!1,error:t.message||t}}var o}),h=e=>i(void 0,null,function*(){try{return{success:!0,data:{adminEmail:E,fromName:e.name,fromEmail:e.email,fromPhone:e.phone||"No proporcionado",message:e.message,submissionDate:(new Date).toLocaleString("es-ES")}}}catch(r){return{success:!1,error:r.message||r}}});function y(e,r,n){var o;function t(n,o){var t,a;Object.defineProperty(n,"_zod",{value:null!=(t=n._zod)?t:{},enumerable:!1}),null!=(a=n._zod).traits||(a.traits=new Set),n._zod.traits.add(e),r(n,o);for(const e in i.prototype)e in n||Object.defineProperty(n,e,{value:i.prototype[e].bind(n)});n._zod.constr=i,n._zod.def=o}const a=null!=(o=null==n?void 0:n.Parent)?o:Object;class s extends a{}function i(e){var r;const o=(null==n?void 0:n.Parent)?new s:this;t(o,e),null!=(r=o._zod).deferred||(r.deferred=[]);for(const n of o._zod.deferred)n();return o}return Object.defineProperty(s,"name",{value:e}),Object.defineProperty(i,"init",{value:t}),Object.defineProperty(i,Symbol.hasInstance,{value:r=>{var o,t;return!!((null==n?void 0:n.Parent)&&r instanceof n.Parent)||(null==(t=null==(o=null==r?void 0:r._zod)?void 0:o.traits)?void 0:t.has(e))}}),Object.defineProperty(i,"name",{value:e}),i}class b extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const P={};function _(e){return e&&Object.assign(P,e),P}function j(e,r){return"bigint"==typeof r?r.toString():r}const N=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function O(e){return"string"==typeof e?e:null==e?void 0:e.message}function w(e,i,l){var c,u,d,m,f,v,p,E,g,h,y;const b=(P=((e,r)=>{for(var n in r||(r={}))t.call(r,n)&&s(e,n,r[n]);if(o)for(var n of o(r))a.call(r,n)&&s(e,n,r[n]);return e})({},e),_={path:null!=(c=e.path)?c:[]},r(P,n(_)));var P,_;if(!e.message){const r=null!=(y=null!=(h=null!=(E=null!=(v=O(null==(m=null==(d=null==(u=e.inst)?void 0:u._zod.def)?void 0:d.error)?void 0:m.call(d,e)))?v:O(null==(f=null==i?void 0:i.error)?void 0:f.call(i,e)))?E:O(null==(p=l.customError)?void 0:p.call(l,e)))?h:O(null==(g=l.localeError)?void 0:g.call(l,e)))?y:"Invalid input";b.message=r}return delete b.inst,delete b.continue,(null==i?void 0:i.reportInput)||delete b.input,b}const S=(e,r)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:r,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(r,j,2),enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},A=y("$ZodError",S),M=y("$ZodError",S,{Parent:Error}),x=(e=>(r,n,o,t)=>{var a;const s=o?Object.assign(o,{async:!1}):{async:!1},i=r._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new b;if(i.issues.length){const r=new(null!=(a=null==t?void 0:t.Err)?a:e)(i.issues.map(e=>w(e,s,_())));throw N(r,null==t?void 0:t.callee),r}return i.value})(M),z=(e=>(r,n,o,t)=>i(void 0,null,function*(){var a;const s=o?Object.assign(o,{async:!0}):{async:!0};let i=r._zod.run({value:n,issues:[]},s);if(i instanceof Promise&&(i=yield i),i.issues.length){const r=new(null!=(a=null==t?void 0:t.Err)?a:e)(i.issues.map(e=>w(e,s,_())));throw N(r,null==t?void 0:t.callee),r}return i.value}))(M);function L(e,r){try{var n=e()}catch(o){return r(o)}return n&&n.then?n.then(void 0,r):n}function G(e,r){for(var n={};e.length;){var o=e[0],t=o.code,a=o.message,s=o.path.join(".");if(!n[s])if("unionErrors"in o){var i=o.unionErrors[0].errors[0];n[s]={message:i.message,type:i.code}}else n[s]={message:a,type:t};if("unionErrors"in o&&o.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),r){var l=n[s].types,c=l&&l[o.code];n[s]=u(s,r,n,t,c?[].concat(c,o.message):o.message)}e.shift()}return n}function V(e,r){for(var n={};e.length;){var o=e[0],t=o.code,a=o.message,s=o.path.join(".");if(!n[s])if("invalid_union"===o.code){var i=o.errors[0][0];n[s]={message:i.message,type:i.code}}else n[s]={message:a,type:t};if("invalid_union"===o.code&&o.errors.forEach(function(r){return r.forEach(function(r){return e.push(r)})}),r){var l=n[s].types,c=l&&l[o.code];n[s]=u(s,r,n,t,c?[].concat(c,o.message):o.message)}e.shift()}return n}function I(e,r,n){if(void 0===n&&(n={}),"_def"in(o=e)&&"object"==typeof o._def&&"typeName"in o._def)return function(t,a,s){try{return Promise.resolve(L(function(){return Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](t,r)).then(function(e){return s.shouldUseNativeValidation&&l({},s),{errors:{},values:n.raw?Object.assign({},t):e}})},function(e){if(r=e,Array.isArray(null==r?void 0:r.issues))return{values:{},errors:c(G(e.errors,!s.shouldUseNativeValidation&&"all"===s.criteriaMode),s)};var r;throw e}))}catch(o){return Promise.reject(o)}};var o;if(function(e){return"_zod"in e&&"object"==typeof e._zod}(e))return function(t,a,s){try{return Promise.resolve(L(function(){return Promise.resolve(("sync"===n.mode?x:z)(e,t,r)).then(function(e){return s.shouldUseNativeValidation&&l({},s),{errors:{},values:n.raw?Object.assign({},t):e}})},function(e){if(e instanceof A)return{values:{},errors:c(V(e.issues,!s.shouldUseNativeValidation&&"all"===s.criteriaMode),s)};throw e}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}const T=d({name:m().min(p.NAME_MIN_LENGTH,`El nombre debe tener al menos ${p.NAME_MIN_LENGTH} caracteres`).max(p.NAME_MAX_LENGTH,`El nombre no puede exceder ${p.NAME_MAX_LENGTH} caracteres`).regex(/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$/,"El nombre solo puede contener letras y espacios"),email:m().email("Por favor, introduce un email válido").regex(p.EMAIL_REGEX,"Formato de email inválido"),phone:m().min(9,"El teléfono debe tener al menos 9 dígitos").regex(p.PHONE_REGEX,"Formato de teléfono inválido"),notes:m().max(500,"Las notas no pueden exceder 500 caracteres").optional(),location:m().min(1,"Por favor, selecciona una sede"),services:f(m()).min(1,"Por favor, selecciona al menos un servicio"),date:m().min(1,"Por favor, selecciona una fecha"),time:m().min(1,"Por favor, selecciona una hora")}),$=d({name:m().min(p.NAME_MIN_LENGTH,`El nombre debe tener al menos ${p.NAME_MIN_LENGTH} caracteres`).max(p.NAME_MAX_LENGTH,`El nombre no puede exceder ${p.NAME_MAX_LENGTH} caracteres`).regex(/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$/,"El nombre solo puede contener letras y espacios"),email:m().email("Por favor, introduce un email válido").regex(p.EMAIL_REGEX,"Formato de email inválido"),phone:m().optional().refine(e=>!e||""===e.trim()||p.PHONE_REGEX.test(e),"Formato de teléfono inválido (mínimo 9 dígitos)"),message:m().min(10,"El mensaje debe tener al menos 10 caracteres").max(1e3,"El mensaje no puede exceder 1000 caracteres")}),D=(e,r={})=>{const n=v({resolver:I(e),defaultValues:r,mode:"onChange"}),{register:o,handleSubmit:t,formState:{errors:a,isValid:s,isSubmitting:i,isDirty:l},reset:c,setValue:u,getValues:d,watch:m,clearErrors:f,setError:p}=n;return{register:o,handleSubmit:t,errors:a,isValid:s,isSubmitting:i,isDirty:l,reset:c,setValue:u,getValues:d,watch:m,getFieldError:e=>{var r;return null==(r=a[e])?void 0:r.message},hasFieldError:e=>!!a[e],clearFieldError:e=>{f(e)},setFieldError:(e,r)=>{p(e,{type:"manual",message:r})},form:n}},H=e=>D(T,e),k=e=>D($,e);export{k as a,h as b,g as s,H as u};
